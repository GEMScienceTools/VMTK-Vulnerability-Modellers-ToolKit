# -*- coding: utf-8 -*-
"""
Created on Fri Dec 13 13:04:30 2019

@author: LuisMartins
"""

import numpy as np
import math 
import os

#%%
class Ground_motion_record:
      
      # The ground motion class is defined by its tag, time and 
      # acceleration values

      # tag - string that identify the record
      # time - x values on the ground motion record object
      # accels - y values on the ground motion record object
      
      def __init__(self,tag,time_vec,accels_vec):
            self.tag=None
            self.time_vec=None
            self.accels_vec=None
            
      @property
      def tag(self):
            return self.tag
      
      @property
      def time(self):
            return self.time_vec
      
      @property
      def accels(self):
            return self.accels_vec
      
# %%

def read_gmr_file(filename):
      
      # This function reads a csv file containing the time and accel to an array.
      
      gmrs_input=np.loadtxt(filename,dtype=float,delimiter=',') # read csv
      
      time=gmrs_input[:,0]
      accels=gmrs_input[:,1]
      return time, accels

def read_gmr_folder(path):
      
      files=os.listdir(path)
      gmrs=[]
      for i in files:
            filename=files[i]
            time,accels=read_gmr_file(filename)
            gmrs['time'][i]=time
            gmrs['accel'][i]=accels
            
      return gmrs

